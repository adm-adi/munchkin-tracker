import { Monster } from '../types/game';

// Base set monsters (Munchkin 1)
export const BASE_MONSTERS: Monster[] = [
    {
        id: 'potted_plant',
        name: 'Planta en Tiesto',
        level: 1,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 1 nivel',
        treasures: 1,
        levelsGranted: 1,
    },
    {
        id: 'lame_goblin',
        name: 'Goblin Cojo',
        level: 1,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 1 nivel',
        treasures: 1,
        levelsGranted: 1,
    },
    {
        id: 'pit_bull',
        name: 'Pit Bull',
        level: 2,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 niveles',
        treasures: 1,
        levelsGranted: 1,
    },
    {
        id: 'flying_frogs',
        name: 'Ranas Voladoras',
        level: 2,
        expansion: 'base',
        bonuses: [{ target: 'elf', value: 4, description: '+4 contra Elfos' }],
        badStuff: 'Pierdes 2 niveles',
        treasures: 1,
        levelsGranted: 1,
    },
    {
        id: 'maul_rat',
        name: 'Rata Maula',
        level: 1,
        expansion: 'base',
        bonuses: [{ target: 'cleric', value: 3, description: '+3 contra Clérigos' }],
        badStuff: 'Pierdes 1 nivel',
        treasures: 1,
        levelsGranted: 1,
        isUndead: true,
    },
    {
        id: 'drooling_slime',
        name: 'Babosa Babeante',
        level: 1,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Disuelve tu armadura. Piérdela.',
        treasures: 1,
        levelsGranted: 1,
    },
    {
        id: 'large_angry_chicken',
        name: 'Pollo Grande y Enfadado',
        level: 2,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 1 nivel',
        treasures: 1,
        levelsGranted: 1,
    },
    {
        id: 'ghoulfiends',
        name: 'Zombosos',
        level: 4,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 niveles',
        treasures: 2,
        levelsGranted: 1,
        isUndead: true,
    },
    {
        id: 'leperchaun',
        name: 'Leprorrechaun',
        level: 4,
        expansion: 'base',
        bonuses: [{ target: 'elf', value: 5, description: '+5 contra Elfos' }],
        badStuff: 'Pierdes todo tu oro (objetos sin equipar)',
        treasures: 2,
        levelsGranted: 1,
    },
    {
        id: 'mr_bones',
        name: 'Don Huesos',
        level: 2,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 niveles',
        treasures: 1,
        levelsGranted: 1,
        isUndead: true,
    },
    {
        id: 'snails_on_speed',
        name: 'Caracoles a Toda Pastilla',
        level: 4,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes tu calzado',
        treasures: 2,
        levelsGranted: 1,
    },
    {
        id: 'harpies',
        name: 'Arpías',
        level: 4,
        expansion: 'base',
        bonuses: [{ target: 'wizard', value: 5, description: '+5 contra Magos' }],
        badStuff: 'Pierdes 2 niveles',
        treasures: 2,
        levelsGranted: 1,
    },
    {
        id: 'floating_nose',
        name: 'Nariz Flotante',
        level: 6,
        expansion: 'base',
        bonuses: [{ target: 'halfling', value: 6, description: '+6 contra Medianos (les huele los pies)' }],
        badStuff: 'Pierdes tu armadura',
        treasures: 2,
        levelsGranted: 1,
    },
    {
        id: 'gelatinous_octahedron',
        name: 'Octaedro Gelatinoso',
        level: 6,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes el objeto Grande que tengas equipado',
        treasures: 2,
        levelsGranted: 1,
    },
    {
        id: 'insurance_salesman',
        name: 'Vendedor de Seguros',
        level: 6,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 niveles',
        treasures: 2,
        levelsGranted: 1,
    },
    {
        id: 'tongue_demon',
        name: 'Demonio Lengüetero',
        level: 6,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 cartas de tu mano a elección de los otros jugadores',
        treasures: 2,
        levelsGranted: 1,
    },
    {
        id: 'wight_brothers',
        name: 'Hermanos White',
        level: 6,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 niveles',
        treasures: 2,
        levelsGranted: 1,
        isUndead: true,
    },
    {
        id: 'lawyer',
        name: 'Abogado',
        level: 8,
        expansion: 'base',
        bonuses: [{ target: 'thief', value: 5, description: '+5 contra Ladrones' }],
        badStuff: 'Te roba todos tus objetos equipados pequeños',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'gazebo',
        name: 'Gazebo',
        level: 8,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 3 niveles',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'amazon',
        name: 'Amazona',
        level: 8,
        expansion: 'base',
        bonuses: [{ target: 'male', value: 2, description: '+2 contra hombres' }],
        badStuff: 'Pierdes tu clase',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'face_sucker',
        name: 'Chupacara',
        level: 8,
        expansion: 'base',
        bonuses: [{ target: 'elf', value: 6, description: '+6 contra Elfos' }],
        badStuff: 'Pierdes tu casco/sombrero',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'net_troll',
        name: 'Trol de Internet',
        level: 8,
        expansion: 'base',
        bonuses: [{ target: 'dwarf', value: 4, description: '+4 contra Enanos' }],
        badStuff: 'Pierdes 3 niveles (2 si eres Enano)',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'platycore',
        name: 'Platipus Maléfico',
        level: 10,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes todos tus objetos en mano',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'wannabe_vampire',
        name: 'Vampiro Wannabe',
        level: 10,
        expansion: 'base',
        bonuses: [{ target: 'cleric', value: 4, description: '+4 contra Clérigos' }],
        badStuff: 'Pierdes 3 niveles',
        treasures: 3,
        levelsGranted: 1,
        isUndead: true,
    },
    {
        id: 'bigfoot',
        name: 'Pie Grande',
        level: 10,
        expansion: 'base',
        bonuses: [{ target: 'halfling', value: 3, description: '+3 contra Medianos' }, { target: 'dwarf', value: 3, description: '+3 contra Enanos' }],
        badStuff: 'Pierdes tu calzado',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'shrieking_geek',
        name: 'Friki Chillón',
        level: 10,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 niveles y tu objeto más valioso',
        treasures: 3,
        levelsGranted: 1,
    },
    {
        id: 'bullrog',
        name: 'Bullrog',
        level: 12,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes 2 niveles y tu objeto de mano más valioso',
        treasures: 4,
        levelsGranted: 1,
    },
    {
        id: 'squidzilla',
        name: 'Calamarkón',
        level: 14,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes todo lo equipado',
        treasures: 4,
        levelsGranted: 1,
    },
    {
        id: 'stoned_golem',
        name: 'Gólem Colocado',
        level: 14,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes todo el equipo Grande',
        treasures: 4,
        levelsGranted: 1,
    },
    {
        id: 'unspeakably_awful',
        name: 'Horror Impronunciable',
        level: 14,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Pierdes todo. Baja a nivel 1',
        treasures: 4,
        levelsGranted: 1,
    },
    {
        id: 'king_tut',
        name: 'Rey Tut',
        level: 16,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Estás muerto',
        treasures: 5,
        levelsGranted: 2,
        isUndead: true,
    },
    {
        id: 'platycore_max',
        name: 'Platipus Destructor',
        level: 16,
        expansion: 'base',
        bonuses: [{ target: 'warrior', value: 4, description: '+4 contra Guerreros' }],
        badStuff: 'Estás muerto',
        treasures: 5,
        levelsGranted: 2,
    },
    {
        id: 'hippogriff',
        name: 'Hipogrifo',
        level: 16,
        expansion: 'base',
        bonuses: [{ target: 'elf', value: 5, description: '+5 contra Elfos' }],
        badStuff: 'Estás muerto',
        treasures: 4,
        levelsGranted: 2,
    },
    {
        id: 'plutonium_dragon',
        name: 'Dragón de Plutonio',
        level: 20,
        expansion: 'base',
        bonuses: [],
        badStuff: 'Estás muerto. Muy muerto.',
        treasures: 5,
        levelsGranted: 2,
    },
];

// All monsters including user-added ones (loaded from storage)
let allMonsters: Monster[] = [...BASE_MONSTERS];

export function getMonsters(): Monster[] {
    return allMonsters;
}

export function setMonsters(monsters: Monster[]): void {
    allMonsters = monsters;
}

export function addMonster(monster: Monster): void {
    allMonsters.push(monster);
}

export function getMonsterById(id: string): Monster | undefined {
    return allMonsters.find(m => m.id === id);
}

export function searchMonsters(query: string): Monster[] {
    const lowerQuery = query.toLowerCase();
    return allMonsters.filter(m =>
        m.name.toLowerCase().includes(lowerQuery) ||
        m.level.toString() === query
    );
}

export function getMonstersByExpansion(expansion: string): Monster[] {
    return allMonsters.filter(m => m.expansion === expansion);
}
